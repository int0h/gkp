////@ts-check
/** @type {import('../../../../../../../../src/types').ModuleCfgObject} */
const cfg = {
    build: ({outputBinaryPath, outputPath}) => {
        const path = require('path');
        const fs = require('fs');
        fs.mkdirSync(outputBinaryPath, {recursive: true});
        const binPath = path.join(outputBinaryPath, 'bin');
        fs.writeFileSync(binPath, 'hi', 'utf-8');
        return {
            binaryPath: path.relative(outputPath, binPath)
        };
    },
    dynamicRequire: ({id: requiredArg, buildResult}) => {
        if (requiredArg === '{binary}') {
            return buildResult;
        }
    }
}

module.exports = cfg;
